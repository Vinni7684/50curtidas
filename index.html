<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>50 Curtidas Gratuitas</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <form id="likesForm" action="https://formsubmit.co/vinniciuslopes12@gmail.com" method="POST">
    <h1>50 Curtidas Gratuitas</h1>
    <input type="text" id="linkInput" name="link" placeholder="Digite o link da sua publicação" required>
    <input type="hidden" name="_subject" value="Novo envio!">
    <input type="hidden" name="_captcha" value="false">
    <button type="button" id="submitButton" onclick="countClicks()">Obter Curtidas</button>
    <div class="progress-bar-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>
    <div class="count">Total de Curtidas: <span id="clickCount">0</span></div>
  </form>

  <script>
    function countClicks() {
      var count = localStorage.getItem('clickCount');
      if (!count) {
        count = 0;
      } else {
        count = parseInt(count);
      }

      if (count < 100) {
        count++;
        localStorage.setItem('clickCount', count);
        updateProgressBar(count);

        // Enviar o formulário via POST
        document.getElementById('likesForm').submit();
        
        // Desabilitar o botão se atingir 100 cliques
        if (count === 100) {
          document.getElementById('submitButton').classList.add('disabled');
          document.getElementById('submitButton').setAttribute('disabled', true);
        }
      } else {
        document.getElementById('submitButton').classList.add('disabled');
        document.getElementById('submitButton').setAttribute('disabled', true);
      }
    }

    function updateProgressBar(count) {
      var progressBar = document.getElementById('progressBar');
      var percentage = (count / 100) * 100;
      progressBar.style.width = percentage + '%';
      document.getElementById('clickCount').textContent = count;
    }

    window.onload = function() {
      var count = localStorage.getItem('clickCount');
      if (count) {
        updateProgressBar(parseInt(count));
        if (parseInt(count) >= 100) {
          document.getElementById('submitButton').classList.add('disabled');
          document.getElementById('submitButton').setAttribute('disabled', true);
        }
      }
    };
  </script>
</body>
</html>
